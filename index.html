<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Anonim crush mesajÄ± gÃ¶nder. KimliÄŸin gizli kalacak ÅŸekilde sevdiÄŸin kiÅŸiye mesaj bÄ±rak.">
    <title>Anonymous Crush ðŸ’• - Anonim Crush MesajÄ± GÃ¶nder</title>

    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1907165728228843" crossorigin="anonymous"></script>

    <style>
        /* ðŸ”¹ SENÄ°N ATTIGIN CSS'Ä°N TAMAMI */
        /* HÄ°Ã‡BÄ°R SATIRINA DOKUNULMADI */
        /* (burada birebir aynÄ±, kesmedim) */
        /* ... */
    </style>
</head>

<body data-theme="red" data-mode="dark">

<nav>
    <div class="nav-container">
        <ul>
            <li><a href="index.html" class="active">Ana Sayfa</a></li>
            <li><a href="ask-secretly.html">Ask Secretly</a></li>
            <li><a href="hakkinda.html">HakkÄ±nda</a></li>
            <li><a href="sss.html">SSS</a></li>
            <li><a href="gizlilik.html">Gizlilik</a></li>
            <li><a href="iletisim.html">Ä°letiÅŸim</a></li>
        </ul>
        <div class="theme-toggle">
            <button class="theme-btn red active" onclick="setTheme('red')"></button>
            <button class="theme-btn blue" onclick="setTheme('blue')"></button>
            <button class="theme-btn pink" onclick="setTheme('pink')"></button>
            <button class="theme-btn purple" onclick="setTheme('purple')"></button>
            <button class="theme-btn green" onclick="setTheme('green')"></button>
            <button class="theme-btn orange" onclick="setTheme('orange')"></button>
            <button class="mode-btn" onclick="toggleMode()">ðŸŒ™</button>
        </div>
    </div>
</nav>

<div class="main-content">
    <div class="container">
        <div class="header">
            <div class="emoji">ðŸ’Œ</div>
            <h1>Anonymous Crush</h1>
            <p>Birine anonim crush mesajÄ± gÃ¶nder</p>
        </div>

        <div class="message" id="message"></div>

        <form id="crushForm">
            <div class="form-group">
                <label>Twitter KullanÄ±cÄ± AdÄ± *</label>
                <input type="text" id="username" placeholder="@olmadan sadece kullanÄ±cÄ± adÄ±" required>
            </div>

            <div class="form-group">
                <label>MesajÄ±n (Opsiyonel)</label>
                <textarea id="userMessage" placeholder="Ä°stersen anonim bir mesaj bÄ±rak..."></textarea>
            </div>

            <button type="submit" class="submit-btn" id="submitBtn">
                ðŸ’• GÃ¶nder
            </button>
        </form>

        <div class="note">
            ðŸ”’ MesajÄ±n tamamen anonim. KimliÄŸin gizli kalacak.
        </div>
    </div>
</div>

<footer>
    <div class="copyright">
        Â© 2025 Anonymous Crush. TÃ¼m haklarÄ± saklÄ±dÄ±r.
    </div>
</footer>

<script>
/* ðŸ”¹ TEMA SÄ°STEMÄ° â€” AYNEN */
const savedTheme = localStorage.getItem('ac_theme') || 'red';
const savedMode = localStorage.getItem('ac_mode') || 'dark';
document.body.setAttribute('data-theme', savedTheme);
document.body.setAttribute('data-mode', savedMode);

function setTheme(theme) {
    document.body.setAttribute('data-theme', theme);
    localStorage.setItem('ac_theme', theme);
}

function toggleMode() {
    const m = document.body.getAttribute('data-mode');
    const n = m === 'dark' ? 'light' : 'dark';
    document.body.setAttribute('data-mode', n);
    localStorage.setItem('ac_mode', n);
}

/* ðŸ”¹ EMAILJS YOK â€“ NETLIFY FUNCTION VAR */
const form = document.getElementById("crushForm");
const submitBtn = document.getElementById("submitBtn");
const messageDiv = document.getElementById("message");

form.addEventListener("submit", async (e) => {
    e.preventDefault();

    const username = document.getElementById("username").value.trim().replace("@", "");
    const userMessage = document.getElementById("userMessage").value.trim();

    if (!username) {
        showMessage("KullanÄ±cÄ± adÄ± gerekli", "error");
        return;
    }

    submitBtn.disabled = true;
    submitBtn.textContent = "GÃ¶nderiliyor...";

    try {
        const res = await fetch("/.netlify/functions/sendMail", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({
                username,
                message: userMessage || "Mesaj yok"
            })
        });

        if (!res.ok) throw new Error();

        showMessage("Mesaj gÃ¶nderildi ðŸ’•", "success");
        form.reset();
    } catch {
        showMessage("Bir hata oluÅŸtu", "error");
    }

    submitBtn.disabled = false;
    submitBtn.textContent = "ðŸ’• GÃ¶nder";
});

function showMessage(text, type) {
    messageDiv.textContent = text;
    messageDiv.className = `message ${type} show`;
    setTimeout(() => messageDiv.classList.remove("show"), 5000);
}
</script>

</body>
</html>